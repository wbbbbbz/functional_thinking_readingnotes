# 第1章 为什么

## 1.1 范式转变

- 面向对象通过数十年变为主流
> 早年Java总被认为太慢，内存耗费太高，不适合高性能的应用，如今硬件市场的变迁把它变成了极具吸引力的选择。
- 函数式编程用几十年浸染了现代编程语言
- 函数式：如同考虑问题一样，做完一步再做下一步
  - 可能会有性能的牺牲。换取代码的清晰。
> [Simple Made Easy](https://www.infoq.com/presentations/Simple-Made-Easy/)
> 命令式编程风格常常迫使我们出于性能考虑，把不同的任务交织起来，以便能够用一次循环来完成多个任务。而函数式编程用map()、filter()这些高阶函数把我们解放出来，让我们站在更高的抽象层次上去考虑问题，把问题看得更清楚。

## 1.3 把控制权让渡给语言/运行时
> 随着时间的推移，开发者们越来越多地把乏味单调的任务托付给语言和运行时。对于我日常编写的应用程序类型来说，失去对内存的直接控制没什么可惋惜的，放弃这些反而让我能够专注于更重要的问题。Java接管内存分配减轻了我们的负担，**函数式编程语言让我们用高阶抽象从容取代基本的控制结构，也有着同样的意义**。
将琐碎的细节交托给运行时，令繁冗的实现化作轻巧，这样的例子本书中比比皆是。

## 1.4 简洁

> 面向对象编程通过封装不确定因素来使代码能被人理解；函数式编程通过尽量减少不确定因素来使代码能被人理解。
——Michael Feathers

- 面向对象编程通过构造（封装，可见性）来精准控制状态的感知和变化
- 函数时语言认为与其控制，不如尽可能减少不确定因素（对状态的控制，也就是尽可能少控制状态）
> 假如语言不对外暴露那么多有出错可能的特性，那么开发者就不那么容易犯错。
> 函数式语言提倡在有限的几种关键数据结构（如list、set、map）上运用针对这些数据结构高度优化过的操作，以此构成基本的运转机构。开发者再根据具体用途，插入自己的数据结构和高阶函数去调整机构的运转方式。

> 比起一味创建新的类结构体系，把封装的单元降低到函数级别，更有利于达到细粒度的、基础层面的重用。

> 函数式程序员喜欢用少数几个核心数据结构，围绕它们去建立一套充分优化的运转机构。面向对象程序员喜欢不断地创建新的数据结构和附属的操作，因为压倒一切的面向对象编程范式就是建立新的类和类间的消息。把所有的数据结构都封装成类，一方面压制了方法层面的重用，另一方面鼓励了大粒度的框架式的重用。函数式编程的程序构造更方便我们在比较细小的层面上重用代码。